a:11:{s:4:"name";s:14:"bot_show_image";s:6:"status";s:1:"1";s:6:"author";s:6:"redbot";s:10:"author_uri";s:0:"";s:7:"version";s:3:"0.4";s:11:"description";s:38:"Shows the article image in "write" tab";s:4:"help";s:642:"<h2>bot_show_image</h2><p>Once activated, this plugin will show the image associated with an article in the &quot;write&quot; tab. If multiple article images are set only the first one will  be shown.</p> <p>The plugin provides some configuration options but, lacking an interface, you are required to change one or two values directly in the plugin code (see first lines of code).<br />There are two options:</p><ol><li>Display thumbnail instead of full image</li><li>Set the width of the squared div that will contain the image (it defaults to 165px, the &quot;write&quot; tab columm width&nbsp; defined in textpattern css).<br /></li></ol>";s:4:"code";s:3293:"//<?

if( @txpinterface === 'admin' ){
	register_callback('bot_show_image','article');
}

// Deals with different situations: existing article with img, existing article without img, new article, newly saved article.
function bot_show_image(){
	
	# Plugin configuration
	######################################################
	# Set maximum image size (defaults to 165, the "write" tab columm width)
	$image_size = 165;
	# Change to 1 if you want to display the thumbnail
	$show_thumbnail = 0;
	######################################################
	
	// If it is an existing article gets the article id through the get variable, if a newly-saved article gets directly the image id through post, if a new article does nothing.
	if (isset($_GET['ID'])) {
		$article_id = $_GET['ID'];
		$article_image_id = safe_field("Image","textpattern","ID = $article_id");
	}
	elseif(isset($_POST['Image'])){
		$article_image_id = $_POST['Image'];
	}
	elseif(!isset($_POST['Image'])&&!isset($_GET['ID'])){
		$article_image_id = false;
	};
	
	// if there are multiple images takes only the substring before the first comma
	if (strpos($article_image_id, ",")) {
		$article_image_id = substr($article_image_id, 0, strpos($article_image_id, ","));
	}

	// Checks if article_image_id is numeric to avoid having to deal with multiple values.
	$article_image_id = is_numeric($article_image_id)? $article_image_id = $article_image_id: $article_image_id = false; 
	
	// If the article has an associated image...
	if ($article_image_id) {		
		
		// fetches the corresponding width, height and file extension.
		$img_width = safe_field("w","txp_image","id = $article_image_id");
		$img_height = safe_field("h","txp_image","id = $article_image_id");
		$article_image_ext = safe_field("ext","txp_image","id = $article_image_id");
		
		// Calculates data needed to resize, crop and center the image with html+css (resulting in a 165px square by default)
		if($img_width<=$img_height){
			$resized_height = ceil(($image_size*$img_height)/$img_width);
			$resized_width = $image_size;
			$margin_top = ceil(($resized_height-$image_size)/2).'px';
			$margin_left = 0;
		}
		else {
			$resized_width = ceil(($image_size*$img_width)/$img_height);
			$resized_height = $image_size;
			$margin_left = ceil(($resized_width-$image_size)/2).'px';
			$margin_top = 0;
		}
		
		//outputs html+inline style for the image
		if(!$show_thumbnail){
			echo '<div id="bot_article_image" style="width:'.$image_size.'px;height:'.$image_size.'px;  overflow:hidden;"><img src="'.hu.'images/'.$article_image_id.$article_image_ext.'" width="'.$resized_width.'" height="'.$resized_height.'" style="margin-left:-'.$margin_left.'; margin-top:-'.$margin_top.' " /></div>';
		}
		else{
			echo '<div id="bot_article_image" style="width:'.$image_size.'px;height:'.$image_size.'px;  overflow:hidden;"><img src="'.hu.'images/'.$article_image_id.'t'.$article_image_ext.'"  /></div>';
		}
		
		// Moves the image above the "article-image" input field  using jquery
		echo
		'<script language="javascript" type="text/javascript">'.n.
		'	$(document).ready(function() {'.n.
		'		$("#bot_article_image").insertBefore($("#article-image"));'.n.
		'	});'.n.
		'</script>';	
	}
		
}
";s:12:"code_restore";s:3293:"//<?

if( @txpinterface === 'admin' ){
	register_callback('bot_show_image','article');
}

// Deals with different situations: existing article with img, existing article without img, new article, newly saved article.
function bot_show_image(){
	
	# Plugin configuration
	######################################################
	# Set maximum image size (defaults to 165, the "write" tab columm width)
	$image_size = 165;
	# Change to 1 if you want to display the thumbnail
	$show_thumbnail = 0;
	######################################################
	
	// If it is an existing article gets the article id through the get variable, if a newly-saved article gets directly the image id through post, if a new article does nothing.
	if (isset($_GET['ID'])) {
		$article_id = $_GET['ID'];
		$article_image_id = safe_field("Image","textpattern","ID = $article_id");
	}
	elseif(isset($_POST['Image'])){
		$article_image_id = $_POST['Image'];
	}
	elseif(!isset($_POST['Image'])&&!isset($_GET['ID'])){
		$article_image_id = false;
	};
	
	// if there are multiple images takes only the substring before the first comma
	if (strpos($article_image_id, ",")) {
		$article_image_id = substr($article_image_id, 0, strpos($article_image_id, ","));
	}

	// Checks if article_image_id is numeric to avoid having to deal with multiple values.
	$article_image_id = is_numeric($article_image_id)? $article_image_id = $article_image_id: $article_image_id = false; 
	
	// If the article has an associated image...
	if ($article_image_id) {		
		
		// fetches the corresponding width, height and file extension.
		$img_width = safe_field("w","txp_image","id = $article_image_id");
		$img_height = safe_field("h","txp_image","id = $article_image_id");
		$article_image_ext = safe_field("ext","txp_image","id = $article_image_id");
		
		// Calculates data needed to resize, crop and center the image with html+css (resulting in a 165px square by default)
		if($img_width<=$img_height){
			$resized_height = ceil(($image_size*$img_height)/$img_width);
			$resized_width = $image_size;
			$margin_top = ceil(($resized_height-$image_size)/2).'px';
			$margin_left = 0;
		}
		else {
			$resized_width = ceil(($image_size*$img_width)/$img_height);
			$resized_height = $image_size;
			$margin_left = ceil(($resized_width-$image_size)/2).'px';
			$margin_top = 0;
		}
		
		//outputs html+inline style for the image
		if(!$show_thumbnail){
			echo '<div id="bot_article_image" style="width:'.$image_size.'px;height:'.$image_size.'px;  overflow:hidden;"><img src="'.hu.'images/'.$article_image_id.$article_image_ext.'" width="'.$resized_width.'" height="'.$resized_height.'" style="margin-left:-'.$margin_left.'; margin-top:-'.$margin_top.' " /></div>';
		}
		else{
			echo '<div id="bot_article_image" style="width:'.$image_size.'px;height:'.$image_size.'px;  overflow:hidden;"><img src="'.hu.'images/'.$article_image_id.'t'.$article_image_ext.'"  /></div>';
		}
		
		// Moves the image above the "article-image" input field  using jquery
		echo
		'<script language="javascript" type="text/javascript">'.n.
		'	$(document).ready(function() {'.n.
		'		$("#bot_article_image").insertBefore($("#article-image"));'.n.
		'	});'.n.
		'</script>';	
	}
		
}
";s:8:"code_md5";s:32:"66a85534aeb7f590251ca47217c88519";s:4:"type";s:1:"1";}